# Settings to manage and configure a Firebase App Hosting backend.
# https://firebase.google.com/docs/app-hosting/configure

runConfig:
  # Increase this value if you'd like to automatically spin up
  # more instances in response to increased traffic.
  maxInstances: 1
  # Environment variables and secrets needed for the app
  env:
    # AI Features
    - variable: NEXT_PUBLIC_GOOGLE_API_KEY
      secret: NEXT_PUBLIC_GOOGLE_API_KEY
      availability:
        - BUILD
        - RUNTIME

    # Stripe Configuration (Server-side secrets)
    - variable: STRIPE_SECRET_KEY
      secret: STRIPE_SECRET_KEY
      availability:
        - BUILD
        - RUNTIME

    # Firebase Configuration
    - variable: NEXT_PUBLIC_FIREBASE_API_KEY
      secret: NEXT_PUBLIC_FIREBASE_API_KEY
      availability:
        - BUILD
        - RUNTIME
    - variable: NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN
      value: "qr-generator-2229d.firebaseapp.com"
      availability:
        - BUILD
        - RUNTIME
    - variable: NEXT_PUBLIC_FIREBASE_PROJECT_ID
      value: "qr-generator-2229d"
      availability:
        - BUILD
        - RUNTIME
    - variable: NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET
      value: "qr-generator-2229d.firebasestorage.app"
      availability:
        - BUILD
        - RUNTIME
    - variable: NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID
      value: "723742977485"
      availability:
        - BUILD
        - RUNTIME
    - variable: NEXT_PUBLIC_FIREBASE_APP_ID
      value: "1:723742977485:web:7c8f2902ade9c3d8e6a884"
      availability:
        - BUILD
        - RUNTIME

    # Stripe Public Key
    - variable: NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY
      secret: NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY
      availability:
        - BUILD
        - RUNTIME

# Serve all assets from the Next.js public directory.
# All other requests are handled by the Next.js server.
headers:
  - source: /_next/static/**
    headers:
      - key: Cache-Control
        value: public, max-age=31536000, immutable
  - source: /public/**
    headers:
      - key: Cache-Control
        value: public, max-age=31536000, immutable
